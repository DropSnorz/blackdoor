<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, shrink-to-fit=no, initial-scale=1">
    <title>BlackDoor - Cours 6</title>

    <!-- Bootstrap Core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Code Mirror -->
    <script src="lib/codeMirror/lib/codemirror.js"></script>
    <link rel="stylesheet" href="lib/codeMirror/lib/codemirror.css">
    <link rel="stylesheet" href="lib/codeMirror/theme/night.css">
    <script src="lib/codeMirror/mode/clike/clike.js"></script>

    <!-- Custom CSS -->
    <link href="css/simple-sidebar.css" rel="stylesheet">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>
<body>
<div id="wrapper">
    <!-- Menu du cours -->
    <div id="sidebar-wrapper">
        <ul class="sidebar-nav">
            <li class="sidebar-brand"><a href="index.html"> Blackdoor - Cours </a></li>
            <li><a href="cours1.html"> Gestion du Vibreur </a></li>
            <li><a href="cours2.html"> TelephonyManager </a></li>
            <li><a href="cours3.html"> PackageManager </a></li>
            <li><a href="cours4.html"> Concepts en Android </a></li>
            <li><a href="cours5.html"> DownloadManager </a></li>
            <li><a id="liActive" href="cours6.html"> Gestion des caméras </a></li>
            <li><a href="cours8.html"> StringBuilder et File </a></li>
        </ul>
    </div>
    <!-- Fin menu du cours -->

    <!-- Icone du menu -->
    <div id="menuWrapper">
        <a href="#menu-toggle" class="btn btn-default" id="menu-toggle">
            <span class="glyphicon glyphicon-menu-hamburger" id="spanMenu"></span>
        </a>
    </div>

    <!-- Page content -->
    <div id="page-content-wrapper">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <h1 id="titreCours">Gestion des caméras</h1>
                    <h2>Préambule</h2>

                    <p>
                        Comme vous pouvez vous en douter, la gestion des caméras est assez difficile. L'API Android est assez complexe à manipuler, et l'utilité des fonctions proposées est réduite au strict minimum. Pas de panique, pour vous faciliter la vie, nous vous mettons à disposition une librairie entière et simple d'accès !
                    </p>

                    <div class="alert alert-warning">
                        <strong> Attention - </strong> Il est nécessaire d'inclure le package <code>java.lang.Object</code> pour manipuler notre classe
                    </div>

                    <div class="alert alert-danger">
                        <strong> Attention - </strong> Il faut absolument avoir les autorisations nécessaires pour manipuler les caméras de l'utilisateur
                    </div>

                    <p>
                        Certains d'entre vous auront remarqué l'utilisation du pluriel dans le titre <strong>gestion des caméras</strong>, et il est important de comprendre le pourquoi du comment. Sur les téléphones modernes, il existe deux caméras. La première se situe au dos du mobile, sur la coque (généralement au dessus de la batterie). La seconde se situe à l'avant du téléphone, au dessus de l'écran, et sert essentiellement pour faire des "selfies". On l'appelle parfois <strong>caméra frontale</strong>.
                    </p>

                    <h2> Fonctionnement de la classe </h2>

                    <p>
                        Pour utiliser cette classe, il faut l'instancier. Pour cela, rien de plus simple : On utilise une nouvelle fois la classe <code>Context</code>, via la fonction <code>Context.getSystemService(Constante)</code>. Cela ne vous change pas des cours précédent, mais une nouveauté apparait sur le choix de la constante, puisque notre libairie vous facilite la vie : <code>FRONT_CAMERA</code> et <code>BACK_CAMERA</code>. Pour les moins anglophones d'entre vous, on pourrait traduire ces constantes par "caméra avant" et "caméra arrière". Il va ainsi de soi que la première constante concerne la caméra frontale, tandis que la seconde permet d'utiliser la caméra située à l'arrière du téléphone.
                    </p>

                    <div class="alert alert-info">
                        <strong> Info - </strong> On déclare un objet de type <code>Camera</code> pour manipuler les caméras
                    </div>

                    <p>
                        Voici comment instancier la caméra !
                    </p>

                    <div class="zoneCodeWrapper">
                            <textarea class="zoneCode">
import java.lang.Object; //Contient notre librairie

Camera cam1 = Context.getSystemService(FRONT_CAMERA); // Manipule la caméra avant
Camera cam2 = Context.getSystemService(BACK_CAMERA); // Manipule la caméra arrière</textarea>
                        <div class="zoneCodeLegende">Instancier un objet pour manipuler les caméras</div>
                    </div>

                    <p>
                        Une fois instancié, il suffit d'utiliser les fonctions de notre librairie pour manipuler les caméras !
                    </p>

                    <h2> Fonctions disponibles </h2>

                    <p>
                        Voici ci-dessous les principales fonctions utilisables sur nos objets de type <code>Camera</code>
                    </p>

                    <table class="table table-striped">
                        <thead>
                        <tr>
                            <th>Type</th>
                            <th>Fonction</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>void</td>
                            <td> <code>takePicture(String name)</code> <br>

                                Prends une photo et la sauvegarde selon le paramètre <code>name</code>
                            </td>
                        </tr>
                        <tr>
                            <td>void</td>
                            <td> <code>setFlashOn()</code> <br>

                                Active le flash pour les prochaines photos
                            </td>
                        </tr>
                        <tr>
                            <td>void</td>
                            <td> <code>setFlashOff()</code> <br>

                                Désactive le flash pour les prochaines photos
                            </td>
                        </tr>
                        <tr>
                            <td>void</td>
                            <td> <code>startVideo()</code> <br>

                                Lance la caméra en mode vidéo
                            </td>
                        </tr>
                        <tr>
                            <td>void</td>
                            <td> <code>stopVideo(String name)</code> <br>

                                Stop la vidéo en cours et la sauvegarde selon le paramètre <code>name</code>
                            </td>
                        </tr>
                        <tr>
                            <td>void</td>
                            <td> <code>stopVideo()</code> <br>

                                Stop la vidéo en cours sans la sauvegarder
                            </td>
                        </tr>
                        </tbody>
                    </table>

                    <p>
                        Toutes les fonctions semble évidentes : c'est bien le but de notre librairie. On dit merci qui ? :)
                    </p>

                    <h2> A vous de jouer !</h2>

                    <p>
                        Au boulot ! On va mettre en place toutes ces notions à travers un exercice. Nous allons abordé beaucoup de notions à la fois, n'hésitez pas à consulter le cours.
                    </p>

                    <p>
                        Le but de l'exercice sera de prendre une photo "photo1" à l'avant avec flash, et "photo2" à l'arrière sans flash. Bonne chance !
                    </p>

                    <h2> Solution de l'exercice </h2>

                    <p>
                        Voici un exemple de correction que l'on va commenter ensemble. Je vous laisse le temps de prendre connaissance du code que l'on vous propose !
                    </p>

                    <div class="zoneCodeWrapper">
                            <textarea class="zoneCode">
import java.lang.Object; //Contient notre librairie

Camera cam1 = Context.getSystemService(FRONT_CAMERA);
Camera cam2 = Context.getSystemService(BACK_CAMERA);
cam1.setFlashOn().takePicture("photo1");
cam2.setFlashOff().takePicture("photo2");</textarea>
                        <div class="zoneCodeLegende">Prise de photos avec et sans flash</div>
                    </div>
                    <p>
                        Et voilà, le tour est joué. Avouez que c'était un jeu d'enfant ! Une fois ces notions maitrisées, vous pouvez passer à la suite du cours.
                    </p>

                </div>
            </div>
        </div>
    </div>
</div>

<!-- Scripts -->
<script src="js/jquery.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/perso.js"></script>
</body>
</html>
